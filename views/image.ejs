<% let requestPath = fileInfo.year + fileInfo.month + fileInfo.day +
fileInfo.hour + fileInfo.minute + fileInfo.second; let
fileURL=`/raw/${fileInfo.year}/${fileInfo.month}/${fileInfo.day}/${fileInfo.fileName}.${fileInfo.extension}`
%>

<!DOCTYPE html>
<html lang="en">
  <head>
    <title><%- requestPath %> | <%- title %></title>
    <%- include('components/head.ejs', {page: "image", title: title}); %>
    <meta property="og:title" content="<%- requestPath %>" />
    <meta property="og:site_name" content="<%- title %>" />
    <meta property="og:type" content="website" />

    <% if (fileInfo.extension == "png") { %>
    <meta property="og:image" content="<%= fileURL %>" />
    <% } else if (fileInfo.extension == "mp4") { %>
    <meta property="og:video:type" content="video/<%= fileInfo.extension %>" />
    <meta property="og:video" content="<%= fileURL %>" />
    <% } %>

    <meta
      property="og:description"
      content="<%- `${fileInfo.day}
    ${fileInfo.monthName} ${fileInfo.year}` %>"
    />
  </head>
  <body>
    <%- include('components/topbar.ejs', {page: "image", info:
    `${fileInfo.hour}:${fileInfo.minute}:${fileInfo.second}, ${fileInfo.day}
    ${fileInfo.monthName} ${fileInfo.year}`}); %>
    <div class="image-view">
      <% if(fileInfo.extension == "png") { %>
      <a href="<%= fileURL %>" target="_blank">
        <img src="<%= fileURL %>" alt="Image" />
      </a>
      <% } else if (fileInfo.extension == "mp4") { %>
      <video controls>
        <source src="<%= fileURL %>" type="video/<%= fileInfo.extension %>" />
      </video>
      <% } %>
    </div>
  </body>
</html>
